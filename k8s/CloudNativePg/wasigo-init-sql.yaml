apiVersion: v1
kind: ConfigMap
metadata:
  name: wasigo-init-sql
  namespace: traefik
data:
  init.sql: |
    -- Solo estructura, cero credenciales
    CREATE EXTENSION IF NOT EXISTS "uuid-ossp";
    
    CREATE SCHEMA IF NOT EXISTS auth;
    CREATE SCHEMA IF NOT EXISTS business;
    CREATE SCHEMA IF NOT EXISTS audit;
    
    -- Bloqueamos el esquema public por seguridad
    REVOKE CREATE ON SCHEMA public FROM PUBLIC;
    REVOKE ALL ON DATABASE wasigo FROM PUBLIC;